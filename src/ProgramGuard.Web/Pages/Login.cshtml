@page
@model ProgramGuard.Web.Pages.LoginModel
@{
    ViewData["Title"] = "Login";
}

<h1>Login</h1>

@using (Html.BeginForm(FormMethod.Post))
{
    <div class="dx-field">
        <div class="dx-field-label">賬號</div>
        <div class="dx-field-value">
            @(Html.DevExtreme().TextBox()
                .Name("UserName")
                .Placeholder("Enter Username")
                )
        </div>
    </div>
    <div class="dx-field">
        <div class="dx-field-label">密碼</div>
        <div class="dx-field-value">
            @(
            Html.DevExtreme().TextBox()
                    .ID("password")
                    .Name("Password")
                    .Mode(TextBoxMode.Password)
                    .InputAttr("aria-label", "Password")
                    .Placeholder("Enter password")
                    .ShowClearButton(true)
                    .Buttons(buttons =>
                    {
                        buttons.Add()
                        .Name("password")
                        .Location(TextEditorButtonLocation.After)
                        .Widget(w => w.Button()
                        .StylingMode(ButtonStylingMode.Text)
                        .Icon("eyeopen")
                        .OnClick("changePasswordMode"));
                    }))
        </div>
    </div>
    <div class="dx-field">
        <div class="dx-field-value">
            @(Html.DevExtreme().Button()
                .Text("登錄")
                .Type(ButtonType.Success)
                .UseSubmitBehavior(true)
                )
        </div>
    </div>
}

<script>
    function changePasswordMode() {
        var passwordEditor = $("#password").dxTextBox("instance");
        passwordEditor.option("mode", passwordEditor.option("mode") === "text" ? "password" : "text");
    }
</script>